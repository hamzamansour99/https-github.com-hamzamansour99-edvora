{"ast":null,"code":"var _jsxFileName = \"/Users/chrishar/Desktop/untitled folder/edvora/src/App.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport './App.css';\nimport axios from 'axios';\nimport Posts from './components/Posts';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction App() {\n  _s();\n\n  const [posts, setPosts] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [product, Setproduct] = useState('0');\n  const [city, SetCity] = useState('0');\n  const [state, SetState] = useState('0');\n\n  const fetchPosts = async () => {\n    setLoading(true);\n    const res = await axios.get('https://assessment-edvora.herokuapp.com');\n    setPosts(res.data);\n    setLoading(false);\n  };\n\n  useEffect(() => {\n    fetchPosts();\n  }, []);\n\n  function compareName(a, b) {\n    // converting to uppercase to have case-insensitive comparison\n    const product_name1 = a.product_name.toUpperCase();\n    const product_name2 = b.product_name.toUpperCase();\n    let comparison = 0;\n\n    if (product_name1 > product_name2) {\n      comparison = 1;\n    } else if (product_name1 < product_name2) {\n      comparison = -1;\n    }\n\n    return comparison;\n  }\n\n  function group(posts) {\n    let map = new Map(posts.map(o => [o.product_name, []]));\n\n    for (let o of posts) map.get(o.product_name).push(o);\n\n    let arr = [...[...map.values()].filter(_ref => {\n      let {\n        length\n      } = _ref;\n      return length > 1;\n    }), [...map.values()].filter(_ref2 => {\n      let {\n        length\n      } = _ref2;\n      return length === 2;\n    }).flat()];\n    return arr;\n  } //Get current posts\n\n\n  const currentPosts = group(posts.sort(compareName)); // Filter Product Name\n\n  const seenProduct = new Set();\n  const filteredArrProduct = posts.filter(el => {\n    const duplicate = seenProduct.has(el.product_name);\n    seenProduct.add(el.product_name);\n    return !duplicate;\n  }); // Filter City \n\n  const seenCity = new Set();\n  const filteredArrCity = posts.filter(el => {\n    const duplicate = seenCity.has(el.address.city);\n    seenCity.add(el.address.city);\n    return !duplicate;\n  }); // Filter State \n\n  const seenSate = new Set();\n  const filteredArrState = posts.filter(el => {\n    const duplicate = seenSate.has(el.address.state);\n    seenSate.add(el.address.state);\n    return !duplicate;\n  }); //Filter selected Product\n\n  const filteredProduct = posts.filter(function (el) {\n    return el.product_name === product;\n  });\n  const filteredCity = posts.filter(function (el) {\n    return el.address.city === city;\n  });\n  const filteredState = posts.filter(function (el) {\n    return el.address.state === state;\n  });\n  const filteredBoth = posts.filter(function (el) {\n    return el.address.state === state && el.address.city === city;\n  });\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"dropdown-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        placeholder: \"Filters\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n        name: \"products\",\n        id: \"products\",\n        onChange: e => {\n          Setproduct(e.target.value);\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          value: 0,\n          children: \"Products\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 3\n        }, this), filteredArrProduct.map((fil, index) => {\n          return /*#__PURE__*/_jsxDEV(\"option\", {\n            value: fil.product_name,\n            children: fil.product_name\n          }, index, false, {\n            fileName: _jsxFileName,\n            lineNumber: 132,\n            columnNumber: 15\n          }, this);\n        })]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 3\n      }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n        name: \"state\",\n        id: \"state\",\n        onChange: e => {\n          SetState(e.target.value);\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          value: 0,\n          children: \"State\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 142,\n          columnNumber: 3\n        }, this), product === '0' && city === '0' ? filteredArrState.map((fil, index) => {\n          return /*#__PURE__*/_jsxDEV(\"option\", {\n            value: fil.address.state,\n            children: fil.address.state\n          }, index, false, {\n            fileName: _jsxFileName,\n            lineNumber: 144,\n            columnNumber: 15\n          }, this);\n        }) : filteredArrState.map((fil, index) => {\n          return /*#__PURE__*/_jsxDEV(\"option\", {\n            value: fil.address.state,\n            children: fil.address.state\n          }, index, false, {\n            fileName: _jsxFileName,\n            lineNumber: 149,\n            columnNumber: 15\n          }, this);\n        })]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 3\n      }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n        name: \"city\",\n        id: \"city\",\n        onChange: e => {\n          SetCity(e.target.value);\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          value: 0,\n          children: \"City\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 163,\n          columnNumber: 3\n        }, this), product === '0' && state === '0' ? filteredArrCity.map((fil, index) => {\n          return /*#__PURE__*/_jsxDEV(\"option\", {\n            value: fil.address.city,\n            children: fil.address.city\n          }, index, false, {\n            fileName: _jsxFileName,\n            lineNumber: 166,\n            columnNumber: 15\n          }, this);\n        }) : /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [state === '0' && filteredProduct.map((fil, index) => {\n            return /*#__PURE__*/_jsxDEV(\"option\", {\n              value: fil.address.city,\n              children: fil.address.city\n            }, index, false, {\n              fileName: _jsxFileName,\n              lineNumber: 173,\n              columnNumber: 15\n            }, this);\n          }), state !== '0' && filteredState.map((fil, index) => {\n            return /*#__PURE__*/_jsxDEV(\"option\", {\n              value: fil.address.city,\n              children: fil.address.city\n            }, index, false, {\n              fileName: _jsxFileName,\n              lineNumber: 178,\n              columnNumber: 15\n            }, this);\n          })]\n        }, void 0, true)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 3\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"product-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Edvora\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 191,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Products\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 9\n      }, this), product === '0' ? Object.keys(currentPosts).map(key => {\n        var _currentPosts$key$key;\n\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card-container\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n              children: (_currentPosts$key$key = currentPosts[key][key]) === null || _currentPosts$key$key === void 0 ? void 0 : _currentPosts$key$key.product_name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 201,\n              columnNumber: 11\n            }, this), /*#__PURE__*/_jsxDEV(\"hr\", {\n              className: \"line\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 203,\n              columnNumber: 10\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"card\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"inner-card\",\n                children: city === '0' && state === '0' ? /*#__PURE__*/_jsxDEV(Posts, {\n                  posts: currentPosts[key],\n                  loading: loading\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 207,\n                  columnNumber: 13\n                }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n                  children: [city !== '0' && /*#__PURE__*/_jsxDEV(Posts, {\n                    posts: filteredCity,\n                    loading: loading\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 211,\n                    columnNumber: 26\n                  }, this), state !== '0' && /*#__PURE__*/_jsxDEV(Posts, {\n                    posts: filteredState,\n                    loading: loading\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 213,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 205,\n                columnNumber: 12\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 204,\n              columnNumber: 10\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 200,\n            columnNumber: 11\n          }, this)\n        }, key, false, {\n          fileName: _jsxFileName,\n          lineNumber: 199,\n          columnNumber: 11\n        }, this);\n      }) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card-container\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            children: filteredProduct[1].product_name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 227,\n            columnNumber: 8\n          }, this), /*#__PURE__*/_jsxDEV(\"hr\", {\n            className: \"line\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 228,\n            columnNumber: 8\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"inner-card\",\n              children: city === '0' && state === '0' ? /*#__PURE__*/_jsxDEV(Posts, {\n                posts: filteredProduct,\n                loading: loading\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 232,\n                columnNumber: 10\n              }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n                children: [city !== '0' && state === '0' && /*#__PURE__*/_jsxDEV(Posts, {\n                  posts: filteredCity,\n                  loading: loading\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 235,\n                  columnNumber: 41\n                }, this), city === '0' && state !== '0' && /*#__PURE__*/_jsxDEV(Posts, {\n                  posts: filteredState,\n                  loading: loading\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 236,\n                  columnNumber: 41\n                }, this), city !== '0' && state !== '0' && /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: /*#__PURE__*/_jsxDEV(Posts, {\n                    posts: filteredBoth,\n                    loading: loading\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 241,\n                    columnNumber: 10\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 239,\n                  columnNumber: 10\n                }, this)]\n              }, void 0, true)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 230,\n              columnNumber: 12\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 229,\n            columnNumber: 8\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 226,\n          columnNumber: 12\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 225,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 188,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 117,\n    columnNumber: 5\n  }, this);\n}\n\n_s(App, \"Kj7YR9rWddFBlsovzwwUBea6nEM=\");\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"sources":["/Users/chrishar/Desktop/untitled folder/edvora/src/App.js"],"names":["React","useState","useEffect","axios","Posts","App","posts","setPosts","loading","setLoading","product","Setproduct","city","SetCity","state","SetState","fetchPosts","res","get","data","compareName","a","b","product_name1","product_name","toUpperCase","product_name2","comparison","group","map","Map","o","push","arr","values","filter","length","flat","currentPosts","sort","seenProduct","Set","filteredArrProduct","el","duplicate","has","add","seenCity","filteredArrCity","address","seenSate","filteredArrState","filteredProduct","filteredCity","filteredState","filteredBoth","e","target","value","fil","index","Object","keys","key"],"mappings":"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","sourcesContent":["import React,{useState,useEffect} from 'react';\nimport './App.css';\nimport axios from 'axios';\nimport Posts from './components/Posts';\n\n\n\n\nfunction App() {\n\n  const [posts,setPosts]=useState([]);\n  const [loading,setLoading]= useState(false);\n  const [product,Setproduct] = useState('0');\n  const [city,SetCity] = useState('0');\n  const [state,SetState] = useState('0');\n\n\n  const fetchPosts = async ()=>{\n    setLoading(true);\n    const res = await axios.get('https://assessment-edvora.herokuapp.com');\n    setPosts(res.data);\n    setLoading(false);\n  }\n  useEffect(()=>{\n    fetchPosts();\n  },[]); \n\n  function compareName(a, b) {\n\n    // converting to uppercase to have case-insensitive comparison\n    const product_name1 =  a.product_name.toUpperCase();\n    const product_name2 =  b.product_name.toUpperCase();\n\n    let comparison = 0;\n\n    if (product_name1 > product_name2) {\n        comparison = 1;\n    } else if (product_name1 < product_name2) {\n        comparison = -1;\n    }\n    return comparison;\n}\n\nfunction group(posts) {\n  let map = new Map(posts.map(o => [o.product_name, []]));\n \n  for (let o of posts) map.get(o.product_name).push(o);\n \n  let arr= [\n      ...[...map.values()].filter(({length}) => length > 1),\n      [...map.values()].filter(({length}) => length === 2).flat()\n    \n  ];\n  \n\n  return arr\n\n \n}\n\n  //Get current posts\n  const currentPosts  = group(posts.sort(compareName));\n\n \n\n\n\n\n\n  // Filter Product Name\n  const seenProduct = new Set();\n  const filteredArrProduct = posts.filter(el => {\n    const duplicate = seenProduct.has(el.product_name);\n    seenProduct.add(el.product_name);\n    return !duplicate;\n  });\n  // Filter City \n  const seenCity = new Set();\n  const filteredArrCity = posts.filter(el => {\n    const duplicate = seenCity.has(el.address.city);\n    seenCity.add(el.address.city);\n    return !duplicate;\n  });\n\n   // Filter State \n   const seenSate = new Set();\n   const filteredArrState = posts.filter(el => {\n     const duplicate = seenSate.has(el.address.state);\n     seenSate.add(el.address.state);\n     return !duplicate;\n   });\n\n   //Filter selected Product\n\n  const filteredProduct = posts.filter(function (el){\n     return  el.product_name===product    \n  });\n\n  const filteredCity = posts.filter(function (el){\n    return  el.address.city===city   \n    \n });\n\n const filteredState = posts.filter(function (el){\n  return  el.address.state===state   \n  \n});\n\nconst filteredBoth = posts.filter(function (el){\n  return  el.address.state===state &&  el.address.city===city;\n  \n});\n\n\n  return (\n\n    <div className='container'>\n    \n     \n    \n      <div className='dropdown-container'>\n  \n    <input placeholder='Filters' />\n    \n  <select name=\"products\" id=\"products\" onChange={(e)=>{\n   \n    Setproduct(e.target.value)}\n    \n    }>\n  <option value={0}>Products</option>   \n    {filteredArrProduct.map((fil,index)=>{\n      return  <option  key={index} value={fil.product_name}>{fil.product_name}</option>\n    })}\n  \n  </select>\n\n  \n  <select name=\"state\" id=\"state\" onChange={(e)=>{\n   \n    SetState(e.target.value)} \n    }>\n  <option value={0}>State</option>   \n    {product==='0' && city==='0' ? filteredArrState.map((fil,index)=>{\n       return <option  key={index} value={fil.address.state}>{fil.address.state}</option>\n     \n    })\n    :\n    filteredArrState.map((fil,index)=>{\n      return  <option  key={index} value={fil.address.state}>{fil.address.state}</option>\n    })\n    \n  }\n  \n  </select>\n  \n\n\n  \n  <select name=\"city\" id=\"city\" onChange={(e)=>{\n   \n    SetCity(e.target.value)} \n    }>\n  <option value={0}>City</option>   \n    {product==='0' && state==='0' ? filteredArrCity.map((fil,index)=>{\n      \n       return <option  key={index} value={fil.address.city}>{fil.address.city}</option>\n     \n    })\n    :\n    <>\n    {state==='0' &&\n    filteredProduct.map((fil,index)=>{\n      return  <option  key={index} value={fil.address.city}>{fil.address.city}</option>\n    })\n  }\n    {state!=='0' &&\n    filteredState.map((fil,index)=>{\n      return  <option  key={index} value={fil.address.city}>{fil.address.city}</option>\n    })\n  }\n\n</>\n  }\n  \n  </select>\n\n      </div>\n      <div className='product-container'>\n\n   \n        <h1>Edvora</h1>\n        <h2>Products</h2>\n\n      {product==='0'?\n          Object.keys(currentPosts).map((key)=> {\n\n         \n         return (\n          <div className='card-container' key={key}>\n          <div >\n          <h1>{currentPosts[key][key]?.product_name}</h1>\n       \n         <hr className='line'/>\n         <div className='card'>\n           <div className='inner-card'>\n            {city==='0' && state==='0' ?\n            <Posts  posts={currentPosts[key]} loading={loading}/>  \n           :  \n           <>\n         \n         { city!=='0' && <Posts  posts={filteredCity} loading={loading}/> }\n       \n         { state!=='0' && <Posts  posts={filteredState} loading={loading}/>  }\n         </> \n            }\n            </div>\n            </div>\n            </div>\n       </div>              \n         )\n       })\n       \n      :\n      \n      <div className='card-container'>\n           <div >\n       <h1>{filteredProduct[1].product_name}</h1>\n       <hr className='line'/>\n       <div className='card'>\n           <div className='inner-card'>\n       {city ==='0'  && state==='0' ?\n         <Posts  posts={filteredProduct} loading={loading}/> \n         :\n         <>\n         { city!=='0' && state==='0' && <Posts  posts={filteredCity} loading={loading}/> }\n         { city==='0' && state!=='0' && <Posts  posts={filteredState} loading={loading}/> }\n        \n         { city!=='0' && state!=='0' &&\n         <div>\n        \n         <Posts  posts={filteredBoth} loading={loading}/> \n         </div>\n         \n         }\n         </> \n          \n       }\n        </div>\n      </div>\n       </div>\n      </div>\n      }\n       </div>\n     \n    </div>\n  );\n}\n\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}